<!doctype html>
<html lang=ko>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- css -->
  <link rel="stylesheet" href="../../resources/css/main.css">
  <link rel="stylesheet" href="../../resources/lib/swiper/swiper.css">

  <!-- lib -->
  <script src="../../resources/lib/jquery-1.11.3.min.js"></script>
  <script src="../../resources/lib/swiper/swiper.js"></script>

  <!-- tui calenadar -->
  <link rel="stylesheet" href="https://uicdn.toast.com/calendar/v2.1.3/toastui-calendar.min.css">
  <script src="https://uicdn.toast.com/calendar/v2.1.3/toastui-calendar.min.js"></script>

  <!-- gsap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <!-- js -->
  <script src="../../resources/js/main.js"></script>

  <title>갤러리소개</title>
</head>
<body class="en">
<!-- [웹 접근성] : 본문 바로가기 -->
<a href="#main" id="skip-nav">본문 바로가기</a>
<!-- 헤더 -->
<div class="top-wrap pc-tablet-flex-only">
  <div class="inner-wrap">
    <div class="right">
      <h2><img src="../../resources/images/logo/seoul_logo.svg" alt="서울특별시"></h2>
      <div class="notice-wrap">
        <p class="ico-text speaker">2025년 서울시 시민참여예산위원회 위원 공개모집</p>
      </div>
    </div>
    <div class="left">
      <ul>
        <li><a href="#">서울소식</a></li>
        <li><a href="#">응답소</a></li>
        <li><a href="#">정보공개</a></li>
        <li><a href="#">분야별정보</a></li>
      </ul>
    </div>
  </div>
</div>
<header>
  <!-- [사이드바] dim 처리 영역 -->
  <div id="dim-overlay" class="dim" onclick="closeSideBar();"></div>
  <div class="inner-wrap">
    <!-- 로고 -->
    <h1>
      <a href="#">
        <img src="../../resources/images/logo/logo_pc.svg" alt="logo">
      </a>
    </h1>
    <!-- gnb -->
    <nav>
      <!-- pc -->
      <ul class="pc-nav pc-flex-only">
        <li>
          <button type="button">서울 갤러리</button>
          <ul>
            <li><a href="#">갤러리 소개</a></li>
            <li><a href="#">시설 안내</a></li>
            <li><a href="#">공간 안내</a></li>
            <li><a href="#">찾아오시는 길</a></li>
          </ul>
        </li>
        <li>
          <button type="button">미래서울도시관</button>
          <ul>
            <li><a href="#">미래서울관</a></li>
            <li><a href="#">세계도시관</a></li>
          </ul>
        </li>
        <li>
          <button type="button">공간대관</button>
          <ul>
            <li><a href="#">대관안내</a></li>
          </ul>
        </li>
        <li class="long">
          <button type="button">프로그램</button>
          <ul>
            <li><a href="#">서울갤러리 일정</a></li>
            <li><a href="#">프로그램 안내</a></li>
          </ul>
        </li>
        <li class="long">
          <button type="button">알림마당</button>
          <ul>
            <li><a href="#">공지사항</a></li>
            <li><a href="#">언론보도</a></li>
            <li><a href="#">미디어 갤러리</a></li>
          </ul>
        </li>
      </ul>

      <!-- mobile -->
      <div class="sidebar tablet-mo-only">
        <div class="sidebar-top">
          <!-- 언어 설정 -->
          <div class="tab-wrap">
            <button type="button" class="active">KR</button>
            <button type="button">EN</button>
          </div>
          <!-- 닫기 버튼 -->
          <button type="button" class="ico-btn circle bg-black ico-close" onclick="closeSideBar()"><span class="visually-hidden">닫기</span></button>
        </div>
        <ul class="accordion-nav-list">
          <li class="active">
            <button type="button" class="active">서울 갤러리</button>
            <ul>
              <li class="active"><a href="#">갤러리 소개</a></li>
              <li><a href="#">시설 안내</a></li>
              <li><a href="#">공간 안내</a></li>
              <li><a href="#">찾아오시는 길</a></li>
            </ul>
          </li>
          <li>
          <button type="button">미래서울도시관</button>
          <ul>
            <li><a href="#">미래서울관</a></li>
            <li><a href="#">세계도시관</a></li>
          </ul>
        </li>
          <li>
            <button type="button">공간대관</button>
            <ul>
              <li><a href="#">대관안내</a></li>
            </ul>
          </li>
          <li class="long">
            <button type="button">프로그램</button>
            <ul>
              <li><a href="#">서울갤러리 일정</a></li>
              <li><a href="#">프로그램 안내</a></li>
            </ul>
          </li>
          <li class="long">
            <button type="button">알림마당</button>
            <ul>
              <li><a href="#">공지사항</a></li>
              <li><a href="#">언론보도</a></li>
              <li><a href="#">미디어 갤러리</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
    <div class="custom-select pc-flex-only" data-select="small-round" data-options="1">
      <button type="button" class="select-toggle" aria-haspopup="listbox" aria-expanded="false">
        <span class="selected-text"></span>
      </button>
      <ul class="select-list" role="listbox" aria-hidden="true"></ul>
    </div>

    <!-- hamburger (mobile) -->
    <button type="button" class="ico-btn ico-hamburger tablet-mo-flex-only" onclick="openSideBar()"><span class="visually-hidden">메뉴 열기</span></button>
  </div>
</header>

<!-- 메인 -->
<main id="main" class="sub-page">
  <!-- 서브 타이틀 -->
  <div class="sub-title-wrap">
    <img src="../../resources/images/main-page/sub-bg-mo.png" alt="" class="mo-only">
    <div class="sub-title">
      <span class="symbol">Seoul Gallery</span>
      <h2>About the Gallery</h2>
    </div>
  </div>

  <!-- 서브 페이지 컨텐츠 -->
  <div class="sub-inner-wrap whole-ver facility-bg-ver">
    <section class="sec-seoul-gallery">
      <div class="inner-wrap">
        <!-- 글자 인터렉션 -->
        <div class="opacity-interaction-wrap">
          <div class="opacity-box">
            <em>Policy</em> into
            <img src="../../resources/images/sub-page/seoul-gallery/gallery_ico1.svg" alt="">
            <em>Content</em>
          </div>
          <div class="opacity-box">
            <em>Life</em> into
            <img src="../../resources/images/sub-page/seoul-gallery/gallery_ico2.svg" alt="">
            <em>Art</em>
          </div>
          <div class="opacity-box">
            <em>City</em> into
            <img src="../../resources/images/sub-page/seoul-gallery/gallery_ico3.svg" alt="">
            <em>Culture</em>
          </div>
        </div>
      </div>
    </section>
    <section class="sec-facility">
      <div class="inner-wrap">
        <img src="../../resources/images/logo/footer_logo_black.svg" alt="서울갤러리 로고" class="first-logo">
        <p class="txt-desc">
          A representative space<br> to share Seoul’s vision and value
          <br>
          with citizens and communicates with the world.
        </p>
        <ul class="img-list">
          <li>
            <img src="../../resources/images/sub-page/seoul-gallery/facility1.png" alt="">
            <div class="desc-box">
              <p>Future</p>
              <span>Future Seoul,<br> global city experience</span>
            </div>
          </li>
          <li>
            <img src="../../resources/images/sub-page/seoul-gallery/facility2.png" alt="">
            <div class="desc-box">
              <p>Culture</p>
              <span>Cultural Enjoyment,<br>Citizen Convenience</span>
            </div>
          </li>
          <li>
            <img src="../../resources/images/sub-page/seoul-gallery/facility3.png" alt="">
            <div class="desc-box">
              <p>Governance</p>
              <span>City Promotion, Merchandise Sales,<br> Communication</span>
            </div>
          </li>
        </ul>
      </div>
    </section>
    <!-- 이미지(확대효과) -->
    <section class="sec-space-info" data-expand-event="event1">
      <div class="inner-wrap">
        <div class="image-expand-wrap">
          <div class="img-box active">
            <img src="../../resources/images/sub-page/seoul-gallery/space1.png" alt="">
            <div class="desc-box">
              <p>Future Seoul Hall</p>
              <span>
                  A space to see the future of Seoul,<br class="pc-tablet-only">
                  experience all of Seoul's policies in one place, and share and participate together.
                </span>
            </div>
            <!-- 애니메이션 뱃지 -->
            <span class="rotate-symbol"><img src="../../resources/images/sub-page/future/rotate_future.svg" alt=""></span>
            <span class="fake-line"><img src="../../resources/images/sub-page/seoul-gallery/space-subtract2-en.svg" alt=""></span>
          </div>
          <div class="img-box ">
            <img src="../../resources/images/sub-page/seoul-gallery/space2.png" alt="">
            <div class="desc-box">
              <p>Global Urban Hall</p>
              <span>
                  A space where visitors can experience Seoul’s global<br class="pc-tablet-only">
                  competitiveness and vision as a world city,
                  serving as a venue for urban diplomacy and international cooperation.</span>
            </div>
            <!-- 애니메이션 뱃지 -->
            <span class="rotate-symbol"><img src="../../resources/images/sub-page/future/rotate_future.svg" alt=""></span>
            <span class="fake-line"><img src="../../resources/images/sub-page/seoul-gallery/space-subtract2-en.svg" alt=""></span>
          </div>
        </div>
      </div>
    </section>

  </div>
</main>

<!-- 푸터 -->
<footer>
  <div class="inner-wrap">
    <div class="footer-right">
      <h2>
        <img src="../../resources/images/logo/footer_logo.svg" alt="서울갤러리 로고">
      </h2>
      <div class="footer-info">
        <ul>
          <li><a href="#" class="line-badge sm-ver c-white">개인정보처리방침</a></li>
          <li><a href="#" class="line-badge sm-ver c-white">영상정보처리기기 운영 관리방침</a></li>
        </ul>
        <p>서울특별시 중구 세종대로 110 서울특별시청 지하1, 2, 4층<br>© 2025 SEOUL GALLERY. All Rights Reserved</p>
        <a href="#" class="btn bg-black-transparent sm-ver insert-ico">서울갤러리 문의하기<span class="arrow-right ico"></span></a>
      </div>
    </div>
    <div class="footer-left">
      <div class="news-letter-box">
        <span class="tit">NEWSLETTER</span>
        <span class="desc">서울갤러리의 소식과 이야기를 뉴스레터로 받아보세요</span>
        <div class="news-letter-input-wrap">
          <div>
            <label>
              <input type="text" placeholder="E-MAIL">
            </label>
            <button type="button" class="ico-btn bg-black link circle"><span class="visually-hidden">이메일 전송하기</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
<script>
/* ------------------------------------------------------------- */
/* [상단 스크립트 목록 정리]
* 1. 상단 텍스트 스크립트
* 2. 갤러리 소개 >  이미지 확대
 */
/* ------------------------------------------------------------- */


document.addEventListener('DOMContentLoaded', () => {
  /* 1. 상단 텍스트 스크립트 */
  gsap.registerPlugin(ScrollTrigger);

  const boxes = document.querySelectorAll('.opacity-box');
  let currentActive = null;

  // 1️⃣ 초기 active 설정: 첫 번째 박스
  if (boxes.length) {
    boxes[0].classList.add('active');
    currentActive = boxes[0];
  }

  function updateActiveBox() {
    const triggerY = window.innerHeight * 0.4; // 화면 중앙 기준
    let nextActive = currentActive;

    // 충분히 스크롤되어야 active가 바뀌도록 체크
    for (let i = 0; i < boxes.length; i++) {
      const boxTop = boxes[i].getBoundingClientRect().top;

      // box top이 중앙 위치보다 조금 지나야 active 변경
      if (boxTop <= triggerY - boxes[i].offsetHeight / 2) {
        nextActive = boxes[i];
      } else {
        break;
      }
    }

    // 이전 active와 다르면 업데이트
    if (currentActive !== nextActive) {
      if (currentActive) currentActive.classList.remove('active');
      if (nextActive) nextActive.classList.add('active');
      currentActive = nextActive;
    }
  }

  // 스크롤 및 리사이즈 이벤트
  window.addEventListener('scroll', updateActiveBox);
  window.addEventListener('resize', updateActiveBox);

  // 초기 계산: 화면 안정화 후 재계산
  setTimeout(updateActiveBox, 100);

  /* 2. 갤러리 소개 >  이미지 확대  */
  initImageExpandEvent("event1");
  // resize 이벤트 바인딩
  handleResize('event1')
  window.addEventListener('resize', () => handleResize('event1'));
});
</script>
</body>
</html>

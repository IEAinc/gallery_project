<!doctype html>
<html lang=ko>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- css -->
  <link rel="stylesheet" href="../../resources/css/main.css">
  <link rel="stylesheet" href="../../resources/lib/swiper/swiper.css">

  <!-- lib -->
  <script src="../../resources/lib/jquery-1.11.3.min.js"></script>
  <script src="../../resources/lib/swiper/swiper.js"></script>

  <!-- tui calenadar -->
  <link rel="stylesheet" href="https://uicdn.toast.com/calendar/v2.1.3/toastui-calendar.min.css">
  <script src="https://uicdn.toast.com/calendar/v2.1.3/toastui-calendar.min.js"></script>

  <!-- gsap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <!-- js -->
  <script src="../../resources/js/main.js"></script>

  <title>인트로</title>
</head>
<body class="intro">
<!-- [웹 접근성] : 본문 바로가기 -->
<a href="#main" id="skip-nav">본문 바로가기</a>
<main id="main">
  <div class="inner-wrap">
    <h1><img src="../../resources/images/logo/footer_logo.svg" alt="서울갤러리"></h1>
    <div class="d-day-box">
      <p>D-7</p>
      <span>124:00:22</span>
    </div>
    <p class="desc">시민과 서울이 만나는 공간,<br>서울갤러리가 곧 여러분을 찾아옵니다</p>
    <div class="btn-wrap">
      <button type="button" class="btn br-white size-full insert-ico" onclick="this.__applyClickHandler__(() => showModal('modal_intro_space'))">주요공간 미리보기<span class="ico arrow-right2"></span></button>
      <button type="button" class="btn br-white size-full insert-ico"  onclick="this.__applyClickHandler__(() => showModal('modal_intro_swiper'))">시설소개 미리보기<span class="ico arrow-right2"></span></button>
    </div>
  </div>
</main>
<!-- [모달모음] -->
<!-- [모달] 1. 시설소개 -->
<div id="modal_intro_swiper" class="modal" data-modal-type="normal-ver">
  <div class="modal-content ver2 lg">
    <div class="title-wrap fc-ver">
      <div class="tit" data-facility="b1">
        <h3><span>B1</span>서울의 비전과 가치를 시민과 함께하는<br class="mo-only"> 서울시 대표공간</h3>
      </div>
      <button type="button" onclick="hideModal('modal_intro_swiper')" class="close-btn"><span class="visually-hidden">닫기</span></button>
    </div>
    <div class="modal-body pd-0 flow-ver">
      <div class="swiper facility-swiper">
        <div class="swiper-wrapper">
          <!-- B1 슬라이드 -->
          <div class="swiper-slide" data-facility="b1">
            <div class="fc-info-wrap">
              <!-- 이미지들 -->
              <div class="fc-img-wrap">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-1.png" alt="Future Seoul Hall" class="active" data-btn-select="b1-1">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-2.png" alt="Global Urban Hall" data-btn-select="b1-2">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-3.png" alt="Youth Vitality Hub" data-btn-select="b1-3">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-info.png" alt="Information" data-btn-select="b1-info">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-cafe.png" alt="Cafe" data-btn-select="b1-cafe">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-space.png" alt="Performance Hall" data-btn-select="b1-space">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-popup.png" alt="Pop-up Exhibition Hall" data-btn-select="b1-popup">
                <img src="../../resources/images/sub-page/seoul-gallery/b1-goods.png" alt="Merchandise Shop / Bookstore" data-btn-select="b1-goods">
              </div>
              <!-- 버튼들 -->
              <div class="fc-btn-wrap">
                <div class="fc-btn-box">
                  <button type="button" class="fc-btn active ico-btn1" data-btn-select="b1-1">Future Seoul Hall</button>
                  <button type="button" class="fc-btn ico-btn2" data-btn-select="b1-2">Global Urban Hall</button>
                  <button type="button" class="fc-btn ico-btn3" data-btn-select="b1-3">Youth Vitality<br class="mo-only"> Hub</button>
                  <button type="button" class="fc-btn ico-btn-info" data-btn-select="b1-info">Information</button>
                </div>
                <div class="fc-btn-box">
                  <button type="button" class="fc-btn ico-btn-cafe" data-btn-select="b1-cafe">Cafe</button>
                  <button type="button" class="fc-btn ico-btn-space" data-btn-select="b1-space">Performance<br class="pc-only"> Hall</button>
                  <button type="button" class="fc-btn ico-btn-popup" data-btn-select="b1-popup">Pop-up <br class="pc-only"> Exhibition Hall</button>
                  <button type="button" class="fc-btn ico-btn-goods" data-btn-select="b1-goods">Merchandise<br class="pc-only"> Shop / Bookstore</button>
                </div>
                </div>
              </div>
            </div>
          </div>
          <!-- B2 슬라이드 -->
          <div class="swiper-slide" data-facility="b2">
            <div class="fc-info-wrap">
              <!-- 1. 시설 이미지 -->
              <div class="fc-img-wrap">
                <img src="../../resources/images/sub-page/seoul-gallery/b2-1.png" alt="Taepyeong Hall" class="active" data-btn-select="b2-1">
                <img src="../../resources/images/sub-page/seoul-gallery/b2-2.png" alt="Workshop Room" data-btn-select="b2-2">
                <img src="../../resources/images/sub-page/seoul-gallery/b2-3.png" alt="Donggeurami Room" data-btn-select="b2-3">
                <img src="../../resources/images/sub-page/seoul-gallery/b2-4.png" alt=" Meeting Room" data-btn-select="b2-4">
                <img src="../../resources/images/sub-page/seoul-gallery/b2-5.png" alt="Information" data-btn-select="b2-5">
              </div>
              <!-- 2. 시설 선택 버튼 -->
              <div class="fc-btn-wrap">
                <div class="fc-btn-box only">
                  <button type="button" class="fc-btn active ico-btn1" data-btn-select="b2-1">Taepyeong Hall</button>
                  <button type="button" class="fc-btn ico-btn2" data-btn-select="b2-2">Workshop Room</button>
                  <button type="button" class="fc-btn ico-btn3" data-btn-select="b2-3">Donggeurami Room</button>
                  <button type="button" class="fc-btn ico-btn4" data-btn-select="b2-4">Meeting Room</button>
                  <button type="button" class="fc-btn ico-btn5" data-btn-select="b2-5">Information</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Swiper 내비게이션 -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>

  </div>
</div>
<!-- [모달] 2. 주요공간 -->
<div id="modal_intro_space" class="modal" data-modal-type="normal-ver">
  <div class="modal-content lg">
    <div class="title-wrap fc-ver no-sub">
      <div class="tit" data-facility="b1">
        <h3>미래서울도시관</h3>
      </div>
      <button type="button" onclick="hideModal('modal_intro_space')" class="close-btn"><span class="visually-hidden">닫기</span></button>
    </div>
    <div class="modal-body">
      <!-- 미래서울도시관 -->
      <!-- 이미지(확대효과) -->
      <section class="sec-space-info intro-ver" data-expand-event="event1">
        <div class="inner-wrap">
          <div class="image-expand-wrap">
            <div class="img-box active">
              <img src="../../resources/images/sub-page/seoul-gallery/space1.png" alt="">
              <div class="desc-box">
                <p>미래서울관</p>
                <span>서울의 미래를 보고, 서울의 모든 정책을 한자리에서<br class="pc-tablet-only"> 체험해보며 함께 공유하고 참여하는 공간입니다.</span>
              </div>
              <!-- 애니메이션 뱃지 -->
              <span class="rotate-symbol"><img src="../../resources/images/sub-page/future/rotate_future.svg" alt=""></span>
            </div>
            <div class="img-box ">
              <img src="../../resources/images/sub-page/seoul-gallery/space2.png" alt="">
              <div class="desc-box">
                <p>세계도시관 </p>
                <span>서울의 미래를 보고, 서울의 모든 정책을 한자리에서<br class="pc-tablet-only"> 체험해보며 함께 공유하고 참여하는 공간입니다.</span>
              </div>
              <!-- 애니메이션 뱃지 -->
              <span class="rotate-symbol"><img src="../../resources/images/sub-page/future/rotate_future.svg" alt=""></span>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
<script>
/* ------------------------------------------------------------- */
/* [상단 스크립트 목록 정리]
* 1. 전체 화면 크기 관련 (반응형)
* 2. 모달 관련
*   2-1. 시설안내 내 탭기능
*  */
/* ------------------------------------------------------------- */

/* 1. 전체 화면 크기 관련 (반응형) */
document.addEventListener('DOMContentLoaded', function() {
  function setSafeHeight() {
    const viewportWidth = window.innerWidth;
    const body = document.body;
    if (viewportWidth >= 650) {
      return;
    }
    const viewportHeight = window.innerHeight;
    const safeAreaHeight = Math.min(viewportHeight, getActualViewportHeight());
    body.style.height = `${safeAreaHeight}px`;
  }
  // iOS 안전 영역 계산용 함수
  function getActualViewportHeight() {
    return window.visualViewport ? window.visualViewport.height : window.innerHeight;
  }
  // 초기 실행
  setSafeHeight();
  // 리사이즈 시 동적 반응
  window.addEventListener('resize', setSafeHeight);
});

/* 2. 모달 관련 */
/* 2-1. 시설안내 내 탭기능 */
document.querySelectorAll(".fc-info-wrap").forEach(facilityWrap => {
  const images = facilityWrap.querySelectorAll(".fc-img-wrap img");
  const buttons = facilityWrap.querySelectorAll(".fc-btn-wrap .fc-btn");

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      const target = btn.dataset.btnSelect;

      // 이미지 + 버튼 active 제거
      images.forEach(img => img.classList.remove("active"));
      buttons.forEach(b => b.classList.remove("active"));

      // 클릭한 버튼 + 이미지 활성화
      btn.classList.add("active");
      const targetImg = facilityWrap.querySelector(`.fc-img-wrap img[data-btn-select="${target}"]`);
      if (targetImg) targetImg.classList.add("active");
    });
  });
});
</script>
</body>
</html>
